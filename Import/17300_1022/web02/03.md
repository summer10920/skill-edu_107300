# 建立資料表

1. 建立**資料庫 **php\_q2 \(命名自喜好\)，格式為**utf8mb4\_unicode\_ci**
2. 這題目的結構命名組合為

   * id=索引

   * cls=分類

   * num=數字，通常做為算總數用

   * title=標題

   * text=文字

   * dpy=前台顯示，1=on/0=off

   * acc=帳號名

   * pwd=密碼

   * mail=信箱

   * id\_key=鍵值，做為別處table搜尋key

   * parent=層級。0等於主項，其他數代表為某主項之id

   * date=日期

3. 每個資料表都需索引，因故新增索引時記得給予AUTO\_INCREMENT

---

# \(3\) 網站標題區

1. 需要紀錄今日瀏覽與累計瀏覽
2. 建立資料表visit\_t3

| \# | 名稱 | 型態 | 編碼與排序 | 屬性 | 空值 | 預設值 | 備註 | 額外資訊 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | ![](http://127.0.0.1/phpmyadmin/themes/dot.gif "主鍵")id | int\(10\) |  | UNSIGNED | 否 | _無_ |  | AUTO\_INCREMENT |
| 2 | date | date |  |  | 否 | _無_ |  |  |
| 3 | num | int\(11\) |  |  | 否 | _無_ |  |  |

隨便建立今天的資料

| id | date | num |
| :--- | :--- | :--- |
| 1 | 2019-02-10 | 100 |

---

# \(4\)主選單區

不需要SQL，都是前台的HTML編輯\(資料取自02A01.txt\)

# \(5\) 動態文字廣告

不需要SQL，都是前台的HTML編輯

---

# \(6\) 會員登入登出

1. 做為會員管理，admin與user做在一起。admin必需id=1

2. 建立table user\_t6

| \# | 名稱 | 型態 | 編碼與排序 | 屬性 | 空值 | 預設值 | 備註 | 額外資訊 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | ![](http://127.0.0.1/phpmyadmin/themes/dot.gif "主鍵")id | int\(10\) |  | UNSIGNED | 否 | _無_ |  | AUTO\_INCREMENT |
| 2 | acc | text | utf8mb4\_unicode\_ci |  | 否 | _無_ |  |  |
| 3 | pwd | text | utf8mb4\_unicode\_ci |  | 否 | _無_ |  |  |
| 4 | mail | text | utf8mb4\_unicode\_ci |  | 否 | _無_ |  |  |

依據題目要求預先塞資料\(02A08.txt\)

| id | acc | pwd | mail |
| :--- | :--- | :--- | :--- |
| 1 | admin | 1234 | admin@labor.gov.tw |
| 2 | test | 5678 | test@labor.gov.tw |
| 3 | mem01 | mem01 | mem01@labor.gov.tw |
| 4 | mem02 | mem02 | mem02@labor.gov.tw |

---

# \(7\) 主題內容

1. 首頁內容\(4組頁籤內容\)不會新增修改查詢，所以寫在HTML內不用入SQL
2. 文章資料只有一份，整合為分類\(02A02.txt\)、標題、內文\(02A03~02A06.txt，標題在文件裡的第一行\)

3. 將資料整理到一個sql table \(blog\)。之後將被分類網誌\(用數字代表最快\)、最新文章、人氣文章三組選單內容使用\(不同select顯示做法\)

4. 到四個分類對應只有給各自的一篇內文，但題目示意圖有兩筆內文。所以請將內文拆成2篇\(一\)跟\(二\)

5. 建立table blog\_t7

| \# | 名稱 | 型態 | 編碼與排序 | 屬性 | 空值 | 預設值 | 備註 | 額外資訊 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | ![](http://127.0.0.1/phpmyadmin/themes/dot.gif "主鍵")id | int\(10\) |  | UNSIGNED | 否 | _無_ |  | AUTO\_INCREMENT |
| 2 | cls | int\(11\) |  |  | 否 | _無_ | 分類 |  |
| 3 | title | text | utf8mb4\_unicode\_ci |  | 否 | _無_ | 標題 |  |
| 4 | text | text | utf8mb4\_unicode\_ci |  | 否 | _無_ | 內文 |  |
| 5 | num | int\(11\) |  |  | 否 | _無_ | 讚數 |  |
| 6 | dpy | int\(11\) |  |  | 否 | _無_ | 顯示 |  |

參考02A02+02A03~02A06.txt，寫入資料庫 \(本解析的示範表格內，因字太多故text沒有全寫而...帶過\)

| id | cls | title | text | num | dpy |
| :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | 1 | 缺乏運動已成為影響全球死亡率的第四大危險因子 \(一\) | 缺乏運動已成為影響全球死亡率的第四大危險因子-國人無規律運動之比率高達72.2% 資料來源： 行政... | 1 | 1 |
| 2 | 1 | 缺乏運動已成為影響全球死亡率的第四大危險因子 \(二\) | 許多上班族時常抱怨沒時間或空間運動，國民健康局製作15分鐘「上班族健康操」，不受場地、服裝的限制，每... | 1 | 1 |
| 3 | 2 | 菸害防治法規 \(一\) | 第二十三條　　違反第五條或第十條第一項規定者，處新臺幣一萬元以上五萬元以下罰鍰，並得按次連續處罰。 ... | 1 | 1 |
| 4 | 2 | 菸害防治法規 \(二\) | 第二十八條　　違反第十二條第一項規定者，應令其接受戒菸教育；行為人未滿十八歲且未結婚者，並應令其父母... | 1 | 1 |
| 5 | 3 | 降低罹癌風險 建構健康生活型態 \(一\) | 癌症防治  三管齊下 Part 1 降低罹癌風險建構健康生活型態  撰文：徐文媛　諮詢對象... | 1 | 1 |
| 6 | 3 | 降低罹癌風險 建構健康生活型態 \(二\) | 在推廣動態生活，建立國人運動習慣上，透過訂定國人健康體能指標，調查全國及各縣巿的運動盛行率，並以每年... | 1 | 1 |
| 7 | 4 | 長期憋尿 泌尿系統問題多 \(一\) | 資料來源：中央健康保險局雙月刊第98期 上稿日期：2012/08/10 文／游小雯 諮詢／郭育... | 1 | 1 |
| 8 | 4 | 長期憋尿 泌尿系統問題多 \(二\) | 3、前列腺炎與副睪丸炎： 男性若水份攝取不夠或憋尿使排尿次數過少，細菌就有機會透過尿道引發感染；嚴... | 1 | 1 |

---

# \(8\) 頁尾版權區

不需要SQL，由前端的HTML編輯

# \(9\) 忘記密碼 + \(10\) 註冊會員

與第六題使用同個table

---

# \(11\) 最新文章

1. 隨然題目又叫求寫入資料庫，但這裡的資料訊息與blog\_t7一樣，所以不需要特別寫。只要共用就好，再透過不同的select方式做不同的單元內容
2. 需要按讚系統，所以需要建立table goodt11，紀錄user\_t6與blog\_t7的關係表

| \# | 名稱 | 型態 | 編碼與排序 | 屬性 | 空值 | 預設值 | 備註 | 額外資訊 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | ![](http://127.0.0.1/phpmyadmin/themes/dot.gif "主鍵")id | int\(10\) |  | UNSIGNED | 否 | _無_ |  | AUTO\_INCREMENT |
| 2 | user | int\(11\) |  |  | 否 | _無_ |  |  |
| 3 | blog | int\(11\) |  |  | 否 | _無_ |  |  |

為了快速方便這裡不塞資料，一開始都是沒有成立。需要按讚就insert，不需要就delete

---

# \(12\) 人氣文章

跟最新文章單元相同。差別在於透過登入進行按讚系統。以及排序每個文章的按讚數。不需建立table

---

# \(13\) 問卷調查

1. 顯示問卷內容，可透過登入進行參與投票。
2. 問卷題目分為標題與選項，可以透過parent方式做成同一個table vote\_t13

| \# | 名稱 | 型態 | 編碼與排序 | 屬性 | 空值 | 預設值 | 備註 | 額外資訊 |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| 1 | ![](http://127.0.0.1/phpmyadmin/themes/dot.gif "主鍵")id | int\(10\) |  | UNSIGNED | 否 | _無_ |  | AUTO\_INCREMENT |
| 2 | text | text | utf8mb4\_unicode\_ci |  | 否 | _無_ |  |  |
| 3 | parent | int\(11\) |  |  | 否 | _無_ |  |  |
| 4 | num | int\(11\) |  |  | 否 | _無_ |  |  |

根據02A07.txt先塞好資料

| id | text | parent | num |
| :--- | :--- | :--- | :--- |
| 1 | 問題一：你最常做什麼運動來促進健康體能呢? | 0 | 0 |
| 2 | 問題二：二手菸沒有安全劑量，只要有暴露，就會有危險，請問它會造成身體上哪些危害? | 0 | 0 |
| 3 | 健走或爬樓梯、慢跑等較不受時間、場地限制的運動。 | 1 | 0 |
| 4 | 仰臥起坐、抬腿及伏地挺身、伸展操、瑜珈等室內運動。 | 1 | 0 |
| 5 | 球類運動、游泳、跳舞、騎腳踏車等加強心肺功能的運動。 | 1 | 0 |
| 6 | 舉重鍛鍊、彈力帶、啞鈴等運用輔助器材鍛鍊肌耐力的運動。 | 1 | 0 |
| 7 | 增加罹患冠狀動脈心臟病及罹病死亡之風險。 | 2 | 0 |
| 8 | 對孩子的的健康會產生許多影響，例如容易咳嗽或打噴嚏、罹患氣喘或讓症狀更嚴重、會因刺激耳咽管，感染中耳... | 2 | 0 |
| 9 | 孕婦吸入二手菸易造成流產、早產、胎盤早期剝離、子宮感染等疾病。 | 2 | 0 |
| 10 | 長期的暴露會造成更嚴重的胸腔問題和過敏症，還會增加心臟病和肺癌的罹患率。 | 2 | 0 |
| 11 | 以上皆是。 | 2 | 0 |

---

# \(14\) 後台介面 +\(15\) 帳號管理 + \(16\) 文章管理 + \(17\) 問卷管理

1. 不需要建SQL table，之前的題目都已建立過
2. No.14 依賴前端完成Page
3. No. 15 做user\_t6的delete/insert
4. No.16 做blog\_t7的update/delete
5. No.17 做vote\_13的insert



